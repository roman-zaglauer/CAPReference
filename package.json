{
  "name": "cap-reference-root",
  "version": "1.0.0",
  "description": "CAP Reference Root",
  "repository": "https://github.com/roman-zaglauer/CAPReference",
  "license": "Apache-2.0",
  "author": "Roman Zaglauer",
  "private": true,
  "engines": {
    "node": ">=18.12.1"
  },
  "lint-staged": {
    "*.cds": [
      "cds lint"
    ],
    "*.ts": [
      "eslint",
      "prettier --check --config .prettierrc --write"
    ]
  },
  "scripts": {
    "license-report": "license-report --output=table",
    "postinstall": "run-p install:*",
    "install:module-a": "cd src/module-a && npm i --silent",
    "install:module-a-types": "cd src/module-a && npm run install:cds-types",
    "install:module-a-mtx": "cd src/module-a/mtx/sidecar && npm i --silent",
    "install:module-a-app-a": "cd src/module-a/app/app-a && npm i --silent",
    "install:broker": "cd src/broker && npm i --silent",
    "install:approuter": "cd src/approuter && npm i --silent",
    "install:sqlite": "mkdir -p .sqlite",
    "prebuild": "rimraf gen && mkdir gen",
    "build": "mbt build -t gen --mtar mta.tar",
    "build:module-a": "cd src/module-a/ && npm run build && cp -r gen ../../.",
    "build:module-a:mtx": "cd src/module-a/mtx && npm run build",
    "build:module-b": "cd src/module-a/ && npm run build && cp -r gen ../../.",
    "build:broker": "cp -r src/broker gen/broker",
    "deploy": "cf deploy gen/mta.tar --retries 1",
    "undeploy": "cf undeploy cap-reference --delete-services --delete-service-keys",
    "cleanup": "rimraf **/gen && rimraf **/dist && rimraf **/coverage && rimraf **/package-lock.json && rimraf **/node_modules"
  }
}
